<%= render 'vmses/info' %>

<%= render 'info' %>

<p>
	<%if @vms.vms_type == "Milestone"%>
		<a href="<%= new_vms_camera_stream_path(@vms, @camera)%>" class="btn btn-success"> <span class="glyphicon glyphicon-plus"></span> Add new Stream </a>
	<%else%>
	<%end%>
</p>

<%if @camera.streams.empty?%>
<div class="alert alert-warning">
	<center>
		Currently no Streams are registered under the Camera.
	</center>
</div>
<%else%>
<div class="panel panel-default">
	<div class="panel-heading">
		<h4>Streams</h4>
	</div>
	<div class="media">
		<table class="table table-hover">
			<thead>
				<tr>
					<th>Name</th>
                    <th>Width</th>
					<th>Height</th>
					<th>Keep aspect ratio</th>
					<th>Allow upsizing</th>
					<th>Compression rate</th>
					<th>Description</th>
					<th colspan="3"></th>
				</tr>
			</thead>

			<tbody>
				<% @camera.streams.each do |stream| %>
				<tr>
					<td><%= stream.name %></td>
                    <td><%= stream.width %></td>
					<td><%= stream.height %></td>
					<td><%= stream.keep_aspect_ratio %></td>
					<td><%= stream.allow_upsizing %></td>
					<td><%= stream.compression_rate %></td>
					<td><%= stream.description %></td>
					<td><%= link_to 'Show', vms_camera_stream_path(@vms, @camera, stream), :class => "btn btn-xs btn-default" %></td>
					<td><%= link_to 'Edit', edit_vms_camera_stream_path(@vms, @camera, stream), :class => "btn btn-xs btn-warning" %></td>
					<td><%= link_to 'Delete', vms_camera_stream_path(@vms, @camera, stream), method: :delete, :class => "btn btn-xs btn-danger", data: { confirm: 'Are you sure?' } %></td>
				</tr>
				<% end %>
			</tbody>
		</table>
	</div>
</div>
<%end%>